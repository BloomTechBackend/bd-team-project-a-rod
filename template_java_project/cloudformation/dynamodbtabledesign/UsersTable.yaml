Resources:
  UsersTable:
    Type: AWS::DynamoDB::Table
    Properties:
      "AttributeDefinitions":
        - "AttributeName": "userId"
          "AttributeType": "S"
        - "AttributeName": "email"
          "AttributeType": "S"
      "KeySchema":
        - "AttributeName": "userId"
          "KeyType": "HASH"
      "GlobalSecondaryIndexes":
        - "IndexName": "EmailIndex"
          "KeySchema":
            - "AttributeName": "email"
              "KeyType": "HASH"
          "Projection":
            "ProjectionType": "KEYS_ONLY"
      BillingMode: PAY_PER_REQUEST
      TableName: "Users"